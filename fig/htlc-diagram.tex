\begin{figure}[!htbp]
  \centering
  \resizebox{\linewidth}{!}{%
  \begin{tikzpicture}[thick]
    \begin{umlpackage}[x=3,fill=MidnightBlue!20]{HTLC}
      \umlclass[fill=solarizedbeige]{HashedTimelockContract}{
      - busyAddresses : mapping (address => bool)) \\
      }{
      + ownerToContract : mapping (address => LockContract)) \\
      + lock(address payable \_receiver, bytes32 \_hashlock, uint \_block) \\
      + unlock(address \_owner, bytes32 \_preimage) : bool \\
      + refund() : bool \\
      <<event>> NewLockContract(
          address indexed sender, \\
          \qquad address indexed receiver, \\
          \qquad duint amount, \\ 
         \qquad bytes32 hashlock,\\
         \qquad uint timelock : bool)\\
      <<event>> FundClaimed(
          address indexed receiver,
          bytes32 preimage,
          uint amount
      ) \\
       <<event>> RefundSpent(address indexed owner, uint amount)
          
      }
      \umlclass[fill=solarizedbeige,y=-6, type=struct]{LockContract}{
          address : payable sender \\
          address : payable receiver \\
          uint : amount \\
          bytes32 : hashlock \\
          uint : timelock \\
      }
  
      \umlHVuniaggreg{LockContract}{HashedTimelockContract}
    \end{umlpackage}
  
  \end{tikzpicture}
  }
  \caption[\acrshort{uml} class diagram of the Smart Contract Ethereum Reference Implementation]{\acrshort{uml} class diagram of the \texttt{Smart Contract} reference Implementation in Ethereum.}
  \label{fig:htlcuml}
  \end{figure}